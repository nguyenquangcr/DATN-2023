{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar _jsxFileName = \"E:\\\\meovathay\\\\application\\\\pages\\\\login.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { notification } from 'antd'; // Assets\n\nimport styles from 'Modules/Pages/Login/styles.module.scss';\nimport classname from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setProfileUser, setToken } from '../store';\nimport { apiLogin, getProfileUser } from '../services/Login/login'; //api\n// User Login info\n\nconst database = [{\n  username: 'user1',\n  password: 'pass1'\n}, {\n  username: 'user2',\n  password: 'pass2'\n}];\nconst errors = {\n  uname: 'invalid username',\n  pass: 'invalid password'\n};\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const state = useSelector(state => state); //state\n\n  const {\n    0: errorMessages,\n    1: setErrorMessages\n  } = useState({});\n  const {\n    0: isSubmitted,\n    1: setIsSubmitted\n  } = useState(false);\n\n  const handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(function* (event) {\n      //Prevent page reload\n      event.preventDefault();\n      var {\n        uname,\n        pass\n      } = document.forms[0];\n\n      try {\n        const response = yield apiLogin({\n          username: uname.value,\n          password: pass.value\n        });\n\n        if (response.status == 201) {\n          dispatch(setToken(response.data.access_token));\n          localStorage.setItem('accessToken', response.data.access_token);\n          const profileUser = yield getProfileUser();\n\n          if (profileUser.status == 200) {\n            dispatch(setProfileUser(response.data.access_token));\n          }\n\n          console.log('profileUser:', profileUser);\n        }\n      } catch (error) {\n        console.log('error:', error);\n      }\n    });\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: classname(styles['box-form']),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: classname(styles['left']),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: classname(styles['overlay']),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, \"Hello World.\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur et est sed felis aliquet sollicitudin\"), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  }, \"login with social media\"), __jsx(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }, __jsx(\"i\", {\n    className: \"fa fa-facebook\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 33\n    }\n  })), __jsx(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, __jsx(\"i\", {\n    className: \"fa fa-twitter\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 33\n    }\n  }), \" Login with Twitter\")))), __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: classname(styles['right']),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, \"Login\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, 'Don\\'t', \" have an account? \", __jsx(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 57\n    }\n  }, \"Creat Your Account\"), \" it takes less than a minute\"), __jsx(\"div\", {\n    className: classname(styles['inputs']),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"uname\",\n    placeholder: \"user name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }), __jsx(\"input\", {\n    type: \"password\",\n    name: \"pass\",\n    placeholder: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  })), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }), __jsx(\"div\", {\n    className: classname(styles['remember-me--forget-password']),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, __jsx(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    name: \"item\",\n    defaultChecked: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 33\n    }\n  }), __jsx(\"span\", {\n    className: classname(styles['text-checkbox']),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 33\n    }\n  }, \"Remember me\")), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }\n  }, \"forget password?\")), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, \"Login\")))));\n};\n\nexport default Login;","map":{"version":3,"sources":["E:/meovathay/application/pages/login.jsx"],"names":["React","useState","notification","styles","classname","useDispatch","useSelector","setProfileUser","setToken","apiLogin","getProfileUser","database","username","password","errors","uname","pass","Login","dispatch","state","errorMessages","setErrorMessages","isSubmitted","setIsSubmitted","handleSubmit","event","preventDefault","document","forms","response","value","status","data","access_token","localStorage","setItem","profileUser","console","log","error"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {notification} from 'antd';\r\n// Assets\r\nimport styles from 'Modules/Pages/Login/styles.module.scss';\r\nimport classname from 'classnames';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {setProfileUser, setToken} from '../store';\r\nimport {apiLogin, getProfileUser} from '../services/Login/login';\r\n//api\r\n\r\n// User Login info\r\nconst database = [\r\n    {\r\n        username: 'user1',\r\n        password: 'pass1'\r\n    },\r\n    {\r\n        username: 'user2',\r\n        password: 'pass2'\r\n    }\r\n];\r\n  \r\nconst errors = {\r\n    uname: 'invalid username',\r\n    pass: 'invalid password'\r\n};\r\n\r\nconst Login = () => {\r\n    const dispatch = useDispatch();\r\n    const state = useSelector((state) => state);\r\n    //state\r\n    const [errorMessages, setErrorMessages] = useState({});\r\n    const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n    const handleSubmit = async (event) => {\r\n        //Prevent page reload\r\n        event.preventDefault();\r\n\r\n        var {uname, pass} = document.forms[0];\r\n\r\n        try {\r\n            const response = await apiLogin({username: uname.value, password: pass.value});\r\n\r\n            if (response.status == 201) {\r\n                dispatch(setToken(response.data.access_token));\r\n                localStorage.setItem('accessToken', response.data.access_token);\r\n                const profileUser = await getProfileUser();\r\n\r\n                if (profileUser.status == 200) \r\n                {dispatch(setProfileUser(response.data.access_token))}\r\n                console.log('profileUser:', profileUser);\r\n            }\r\n        } catch (error) {\r\n            console.log('error:', error);\r\n            \r\n        }\r\n    };  \r\n\r\n    return (\r\n        <>\r\n            <div className={classname(styles['box-form'])}>\r\n                <div className={classname(styles['left'])}>\r\n                    <div className={classname(styles['overlay'])}>\r\n                        <h1>Hello World.</h1>\r\n                        <p>\r\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur et\r\n          est sed felis aliquet sollicitudin\r\n                        </p>\r\n                        <span>\r\n                            <p>login with social media</p>\r\n                            <a href=\"#\">\r\n                                <i className=\"fa fa-facebook\" aria-hidden=\"true\" />\r\n                            </a>\r\n                            <a href=\"#\">\r\n                                <i className=\"fa fa-twitter\" aria-hidden=\"true\" /> Login with\r\n            Twitter\r\n                            </a>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className={classname(styles['right'])}>\r\n                        <h5>Login</h5>\r\n                        <p>\r\n                            {'Don\\'t'} have an account? <a href=\"#\">Creat Your Account</a> it takes less\r\n        than a minute\r\n                        </p>\r\n                        <div className={classname(styles['inputs'])}>\r\n                            <input type=\"text\" name=\"uname\" placeholder=\"user name\" />\r\n                            <br />\r\n                            <input type=\"password\" name=\"pass\" placeholder=\"password\" />\r\n                        </div>\r\n                        <br />\r\n                        <br />\r\n                        <div className={classname(styles['remember-me--forget-password'])}>\r\n                            {/* Angular */}\r\n                            <label>\r\n                                <input type=\"checkbox\" name=\"item\" defaultChecked=\"\" />\r\n                                <span className={classname(styles['text-checkbox'])}>Remember me</span>\r\n                            </label>\r\n                            <p>forget password?</p>\r\n                        </div>\r\n                        <br />\r\n                        <button type='submit'>Login</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}