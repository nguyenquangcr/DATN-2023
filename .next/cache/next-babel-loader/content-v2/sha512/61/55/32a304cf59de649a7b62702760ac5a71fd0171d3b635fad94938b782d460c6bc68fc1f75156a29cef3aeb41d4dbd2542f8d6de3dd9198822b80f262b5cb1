{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"E:\\\\meovathay\\\\application\\\\pages\\\\index.jsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport classname from 'classnames';\nimport Link from 'next/link'; // Components\n\nimport HorizontalWidget from 'Components/HorizontalWidget';\nimport SidebarHighlightWidget from 'Components/SidebarHighlightWidget';\nimport ListWidget from 'Components/ListWidget';\nimport VerticalWidget from 'Components/VerticalWidget'; // Services\n\nimport * as PostHomeService from 'Services/Post/Home';\nimport * as PostCategoryService from 'Services/Post/Category'; // Actions\n\nimport { updateDocument, updateBreadcrumbStructure, setHeaderMenu } from '../store'; // Utils\n\nimport { handleError } from 'Libs/utils';\nimport Constant from 'Config/constant'; // Assets\n\nimport styles from 'Modules/Pages/Home/styles.module.scss';\nconst PATH = 'application/pages/index.jsx';\nconst BOX_VERTICAL_NEWS_STYLE = 1;\nconst BOX_VERTICAL_AND_LIST_NEWS_STYLE = 2;\nconst BOX_HORIZONTAL_AND_THUMB_NEWS_STYLE = 3;\n\nclass Home extends React.Component {\n  static getInitialProps({\n    reduxStore,\n    req\n  }) {\n    return _asyncToGenerator(function* () {\n      try {\n        const states = reduxStore.getState();\n        const url = Constant.SITE_URL;\n        const mobileUrl = Constant.MOBILE_SITE_URL; // Set document title default in home page\n\n        if (states && states.document && states.document.defaultTitle) {\n          reduxStore.dispatch(updateDocument({\n            title: states.document.defaultTitle,\n            canonical: url,\n            alternate: mobileUrl\n          }));\n        } // Update Breadcrumb structured data\n\n\n        reduxStore.dispatch(updateBreadcrumbStructure({\n          itemListElement: []\n        })); // Change Menu active when redirect to home page\n\n        if (states && states.headerMenu) {\n          let headerMenu = states.headerMenu.map(menu => {\n            if (menu.active) {\n              menu.active = false;\n            }\n\n            if (menu.child) {\n              menu.child = menu.child.map(childMenu => {\n                if (childMenu.active) {\n                  childMenu.active = false;\n                }\n\n                return childMenu;\n              });\n            }\n\n            return menu;\n          });\n          reduxStore.dispatch(setHeaderMenu(headerMenu));\n        } // API get posts for Home page\n\n\n        const getHomePosts = PostHomeService.getList();\n        let latest = [];\n        let top = [];\n        let category = [];\n        let featureNews = [];\n        let featureNewsRight = [];\n        let arrTopPid = [];\n        let horizontalNews = [];\n\n        if (getHomePosts) {\n          yield getHomePosts.then(response => {\n            if (response && response.data && response.data.data) {\n              latest = response.data.data.latest || [];\n              top = response.data.data.top || [];\n              category = response.data.data.category || [];\n\n              if (top.length) {\n                let images = [];\n                top.map((post, key) => {\n                  if (post.pid) {\n                    arrTopPid.push(post.pid);\n                  }\n\n                  if (post.background) {\n                    images = [post.background];\n                  } else if (post.images && post.images.normal) {\n                    images = [post.images.normal];\n                  } // Top 3 posts to featured post and then horizontal news\n\n\n                  if (key < 3) {\n                    featureNews.push(post);\n                  } else {\n                    featureNewsRight.push(post);\n                  }\n                }); // Validate images\n\n                if (images.length) {\n                  images = images.map(image => {\n                    if (image && image.indexOf('https:') < 0) {\n                      return 'https:' + image;\n                    }\n\n                    return image;\n                  });\n                }\n\n                reduxStore.dispatch(updateDocument({\n                  og: {\n                    title: states.document.defaultTitle,\n                    description: states.document.defaultDescription,\n                    images: images,\n                    url: Constant.SITE_URL\n                  }\n                }));\n              }\n            }\n          });\n        }\n\n        const getHorizontalNews = PostCategoryService.getList({\n          type: 'weekly',\n          limit: 30,\n          page: 1\n        });\n\n        if (getHorizontalNews) {\n          yield getHorizontalNews.then(response => {\n            if (response && response.data && response.data.data) {\n              horizontalNews = response.data.data.posts || [];\n\n              if (horizontalNews && horizontalNews.length) {\n                horizontalNews = horizontalNews.filter(post => {\n                  if (arrTopPid.indexOf(post.pid) < 0) {\n                    return true;\n                  }\n                });\n              }\n            }\n          });\n        }\n\n        return {\n          latest,\n          top,\n          category,\n          featureNews,\n          featureNewsRight,\n          horizontalNews\n        };\n      } catch (error) {\n        // Error\n        handleError(error, {\n          actionName: 'getInitialProps',\n          path: PATH,\n          args: {\n            req\n          }\n        });\n      }\n    })();\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"getCategoryBoxStyle\", slug => {\n      if (['doi-song', 'suc-khoe'].indexOf(slug) >= 0) {\n        return BOX_VERTICAL_NEWS_STYLE;\n      } else if (['thoi-trang'].indexOf(slug) >= 0) {\n        return BOX_VERTICAL_AND_LIST_NEWS_STYLE;\n      } else {\n        return BOX_HORIZONTAL_AND_THUMB_NEWS_STYLE;\n      }\n    });\n\n    _defineProperty(this, \"renderCategoryBox\", (category, boxStyle = BOX_VERTICAL_NEWS_STYLE) => {\n      try {\n        if (category && category.name && category.slug && category.posts && boxStyle) {\n          boxStyle = this.getCategoryBoxStyle(category.slug);\n\n          switch (boxStyle) {\n            case BOX_VERTICAL_NEWS_STYLE:\n              return __jsx(\"div\", {\n                key: category.id,\n                className: classname(styles['sidebar-category']),\n                style: {\n                  background: '#fafafa'\n                },\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 29\n                }\n              }, __jsx(\"h2\", {\n                className: classname(styles['heading']),\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 33\n                }\n              }, __jsx(Link, {\n                href: '/category-by-id?slug=' + category.slug + '&cid=' + category.id,\n                as: '/' + category.slug + '-c' + category.id + '.html',\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 37\n                }\n              }, __jsx(\"a\", {\n                title: category.name,\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 41\n                }\n              }, category.name))), __jsx(HorizontalWidget, {\n                skeletonLoading: false,\n                number: 2,\n                isShowCategory: false,\n                isRowReverse: true,\n                background: 'normal',\n                posts: category.posts,\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 33\n                }\n              }));\n\n            case BOX_VERTICAL_AND_LIST_NEWS_STYLE:\n              return __jsx(\"div\", {\n                key: category.id,\n                className: classname(styles['sidebar-category']),\n                style: {\n                  background: '#fafafa'\n                },\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 29\n                }\n              }, __jsx(\"h2\", {\n                className: classname(styles['heading']),\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 33\n                }\n              }, __jsx(Link, {\n                href: '/category-by-id?slug=' + category.slug + '&cid=' + category.id,\n                as: '/' + category.slug + '-c' + category.id + '.html',\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 37\n                }\n              }, __jsx(\"a\", {\n                title: category.name,\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 41\n                }\n              }, category.name))), __jsx(HorizontalWidget, {\n                skeletonLoading: false,\n                isShowCategory: false,\n                isRowReverse: true,\n                background: 'normal',\n                number: 1,\n                posts: category.posts,\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 33\n                }\n              }), __jsx(ListWidget, {\n                number: 4,\n                posts: category.posts.filter((post, key) => key > 0),\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 33\n                }\n              }));\n\n            case BOX_HORIZONTAL_AND_THUMB_NEWS_STYLE:\n              return __jsx(\"div\", {\n                key: category.id,\n                className: classname(styles['sidebar-category']),\n                style: {\n                  background: '#fafafa'\n                },\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 29\n                }\n              }, __jsx(\"h2\", {\n                className: classname(styles['heading']),\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 33\n                }\n              }, __jsx(Link, {\n                href: '/category-by-id?slug=' + category.slug + '&cid=' + category.id,\n                as: '/' + category.slug + '-c' + category.id + '.html',\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 37\n                }\n              }, __jsx(\"a\", {\n                title: category.name,\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 41\n                }\n              }, category.name))), __jsx(\"div\", {\n                className: classname(styles['content'], 'clearfix'),\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 33\n                }\n              }, __jsx(\"div\", {\n                className: classname(styles['left'], 'fl'),\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 37\n                }\n              }, __jsx(VerticalWidget, {\n                isShowTag: false,\n                background: 'normal',\n                post: category.posts[0],\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 41\n                }\n              })), __jsx(\"div\", {\n                className: classname(styles['right'], 'fr'),\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 37\n                }\n              }, __jsx(HorizontalWidget, {\n                skeletonLoading: false,\n                isShowCategory: false,\n                isRowReverse: true,\n                isShowDescription: false,\n                isSmallLayout: true,\n                background: 'medium',\n                number: 3,\n                posts: category.posts.filter((post, key) => key > 0),\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 41\n                }\n              }))));\n          }\n        }\n      } catch (error) {\n        // Error\n        handleError(error, {\n          actionName: 'renderCategoryBox',\n          path: PATH,\n          args: {\n            category,\n            boxStyle\n          }\n        });\n      }\n    });\n\n    this.state = {};\n  }\n\n  render() {\n    try {\n      return __jsx(\"div\", {\n        className: classname(styles['container'], 'container'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        className: classname('container-body clearfix w1160 pb-20'),\n        style: {\n          borderBottom: '1px solid #eee'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        className: classname('w540 fl pt-20'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 25\n        }\n      }, this.props.featureNews && this.props.featureNews.length ? __jsx(VerticalWidget, {\n        isShowTag: false,\n        isShowDescription: false,\n        background: 'large',\n        post: this.props.featureNews[0],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 37\n        }\n      }) : null, __jsx(\"ul\", {\n        className: \"pt-20\",\n        style: {\n          listStyle: 'none',\n          display: 'flex',\n          justifyContent: 'space-between'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 29\n        }\n      }, this.props.featureNews && this.props.featureNews.length ? this.props.featureNews.map((post, key) => {\n        if (key > 0 && key < 3) {\n          return __jsx(\"li\", {\n            key: key.toString(),\n            style: {\n              width: 260\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 49\n            }\n          }, __jsx(VerticalWidget, {\n            isShowTag: false,\n            isShowDescription: false,\n            background: 'normal',\n            post: post,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 53\n            }\n          }));\n        }\n      }) : null)), __jsx(\"div\", {\n        className: classname('w590 fr pt-20'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 25\n        }\n      }, __jsx(\"div\", {\n        className: classname('fl'),\n        style: {\n          width: 265\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 29\n        }\n      }, this.props.featureNewsRight && this.props.featureNewsRight.length ? __jsx(VerticalWidget, {\n        isShowTag: false,\n        isShowDescription: false,\n        background: 'normal',\n        post: this.props.featureNewsRight[0],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 41\n        }\n      }) : null, this.props.featureNewsRight && this.props.featureNewsRight.length ? __jsx(HorizontalWidget, {\n        skeletonLoading: false,\n        number: 4,\n        isSmallLayout: true,\n        isShowCategory: false,\n        isShowDescription: false,\n        background: 'medium',\n        posts: this.props.featureNewsRight.filter((post, key) => key > 0),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 41\n        }\n      }) : null), __jsx(\"div\", {\n        className: classname('fl pl-20'),\n        style: {\n          width: 325\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 29\n        }\n      }, __jsx(SidebarHighlightWidget, {\n        title: \"M\\u1EDBi nh\\u1EA5t\",\n        style: {\n          width: '100%'\n        },\n        background: 'normal',\n        posts: this.props.latest,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 33\n        }\n      })))), __jsx(\"div\", {\n        className: classname('container-body clearfix w1160 pt-20'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        className: \"fl w540\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 25\n        }\n      }, this.props.horizontalNews && this.props.horizontalNews.length ? __jsx(HorizontalWidget, {\n        skeletonLoading: false,\n        number: 16,\n        background: 'medium',\n        posts: this.props.horizontalNews,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 97\n        }\n      }) : null), __jsx(\"div\", {\n        className: \"fr w590\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 25\n        }\n      }, this.props.category && this.props.category.length ? this.props.category.map(category => {\n        return this.renderCategoryBox(category, BOX_VERTICAL_NEWS_STYLE);\n      }) : null)));\n    } catch (error) {\n      handleError(error, {\n        actionName: 'render',\n        path: PATH,\n        args: {}\n      });\n    }\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["E:/meovathay/application/pages/index.jsx"],"names":["React","classname","Link","HorizontalWidget","SidebarHighlightWidget","ListWidget","VerticalWidget","PostHomeService","PostCategoryService","updateDocument","updateBreadcrumbStructure","setHeaderMenu","handleError","Constant","styles","PATH","BOX_VERTICAL_NEWS_STYLE","BOX_VERTICAL_AND_LIST_NEWS_STYLE","BOX_HORIZONTAL_AND_THUMB_NEWS_STYLE","Home","Component","getInitialProps","reduxStore","req","states","getState","url","SITE_URL","mobileUrl","MOBILE_SITE_URL","document","defaultTitle","dispatch","title","canonical","alternate","itemListElement","headerMenu","map","menu","active","child","childMenu","getHomePosts","getList","latest","top","category","featureNews","featureNewsRight","arrTopPid","horizontalNews","then","response","data","length","images","post","key","pid","push","background","normal","image","indexOf","og","description","defaultDescription","getHorizontalNews","type","limit","page","posts","filter","error","actionName","path","args","constructor","props","slug","boxStyle","name","getCategoryBoxStyle","id","state","render","borderBottom","listStyle","display","justifyContent","toString","width","renderCategoryBox"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport classname from 'classnames';\r\nimport Link from 'next/link';\r\n\r\n// Components\r\nimport HorizontalWidget from 'Components/HorizontalWidget';\r\nimport SidebarHighlightWidget from 'Components/SidebarHighlightWidget';\r\nimport ListWidget from 'Components/ListWidget';\r\nimport VerticalWidget from 'Components/VerticalWidget';\r\n\r\n// Services\r\nimport * as PostHomeService from 'Services/Post/Home';\r\nimport * as PostCategoryService from 'Services/Post/Category';\r\n\r\n// Actions\r\nimport {updateDocument, updateBreadcrumbStructure, setHeaderMenu} from '../store';\r\n\r\n// Utils\r\nimport {handleError} from 'Libs/utils';\r\nimport Constant from 'Config/constant';\r\n\r\n// Assets\r\nimport styles from 'Modules/Pages/Home/styles.module.scss';\r\n\r\nconst PATH = 'application/pages/index.jsx';\r\nconst BOX_VERTICAL_NEWS_STYLE = 1;\r\nconst BOX_VERTICAL_AND_LIST_NEWS_STYLE = 2;\r\nconst BOX_HORIZONTAL_AND_THUMB_NEWS_STYLE = 3;\r\n\r\nclass Home extends React.Component {\r\n    static async getInitialProps({reduxStore, req}) {\r\n        try {\r\n            const states = reduxStore.getState();\r\n            const url = Constant.SITE_URL;\r\n            const mobileUrl = Constant.MOBILE_SITE_URL;\r\n\r\n            // Set document title default in home page\r\n            if (states && states.document && states.document.defaultTitle) {\r\n                reduxStore.dispatch(updateDocument({\r\n                    title: states.document.defaultTitle,\r\n                    canonical: url,\r\n                    alternate: mobileUrl\r\n                }));\r\n            }\r\n\r\n            // Update Breadcrumb structured data\r\n            reduxStore.dispatch(updateBreadcrumbStructure({\r\n                itemListElement: []\r\n            }));\r\n\r\n            // Change Menu active when redirect to home page\r\n            if (states && states.headerMenu) {\r\n                let headerMenu = states.headerMenu.map((menu) => {\r\n                    if (menu.active) {\r\n                        menu.active = false;\r\n                    }\r\n\r\n                    if (menu.child) {\r\n                        menu.child = menu.child.map((childMenu) => {\r\n                            if (childMenu.active) {\r\n                                childMenu.active = false;\r\n                            }\r\n\r\n                            return childMenu;\r\n                        });\r\n                    }\r\n\r\n                    return menu;\r\n                });\r\n\r\n                reduxStore.dispatch(setHeaderMenu(headerMenu));\r\n            }\r\n\r\n            // API get posts for Home page\r\n            const getHomePosts = PostHomeService.getList();\r\n\r\n            let latest = [];\r\n            let top = [];\r\n            let category = [];\r\n            let featureNews = [];\r\n            let featureNewsRight = [];\r\n            let arrTopPid = [];\r\n            let horizontalNews = [];\r\n\r\n            if (getHomePosts) {\r\n                await getHomePosts.then((response) => {\r\n                    if (response && response.data && response.data.data) {\r\n                        latest = response.data.data.latest || [];\r\n                        top = response.data.data.top || [];\r\n                        category = response.data.data.category || [];\r\n\r\n                        if (top.length) {\r\n                            let images = [];\r\n\r\n                            top.map((post, key) => {\r\n                                if (post.pid) {\r\n                                    arrTopPid.push(post.pid);\r\n                                }\r\n\r\n                                if (post.background) {\r\n                                    images = [post.background];\r\n                                } else if (post.images && post.images.normal) {\r\n                                    images = [post.images.normal];\r\n                                }\r\n\r\n                                // Top 3 posts to featured post and then horizontal news\r\n                                if (key < 3) {\r\n                                    featureNews.push(post);\r\n                                } else {\r\n                                    featureNewsRight.push(post);\r\n                                }\r\n                            });\r\n\r\n                            // Validate images\r\n                            if (images.length) {\r\n                                images = images.map((image) => {\r\n                                    if (image && image.indexOf('https:') < 0) {\r\n                                        return 'https:' + image;\r\n                                    }\r\n\r\n                                    return image;\r\n                                });\r\n                            }\r\n\r\n                            reduxStore.dispatch(updateDocument({\r\n                                og: {\r\n                                    title: states.document.defaultTitle,\r\n                                    description: states.document.defaultDescription,\r\n                                    images: images,\r\n                                    url: Constant.SITE_URL\r\n                                }\r\n                            }));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            const getHorizontalNews = PostCategoryService.getList({\r\n                type: 'weekly',\r\n                limit: 30,\r\n                page: 1\r\n            });\r\n\r\n            if (getHorizontalNews) {\r\n                await getHorizontalNews.then((response) => {\r\n                    if (response && response.data && response.data.data) {\r\n                        horizontalNews = response.data.data.posts || [];\r\n\r\n                        if (horizontalNews && horizontalNews.length) {\r\n                            horizontalNews = horizontalNews.filter((post) => {\r\n                                if (arrTopPid.indexOf(post.pid) < 0) {\r\n                                    return true;\r\n                                }\r\n                            });\r\n\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            return {latest, top, category, featureNews, featureNewsRight, horizontalNews};\r\n        } catch (error) {\r\n            // Error\r\n            handleError(error, {\r\n                actionName: 'getInitialProps',\r\n                path: PATH,\r\n                args: {\r\n                    req\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n    }\r\n\r\n    getCategoryBoxStyle = (slug) => {\r\n        if (['doi-song', 'suc-khoe'].indexOf(slug) >= 0) {\r\n            return BOX_VERTICAL_NEWS_STYLE;\r\n        } else if (['thoi-trang'].indexOf(slug) >= 0) {\r\n            return BOX_VERTICAL_AND_LIST_NEWS_STYLE;\r\n        } else {\r\n            return BOX_HORIZONTAL_AND_THUMB_NEWS_STYLE;\r\n        }\r\n    }\r\n\r\n    renderCategoryBox = (category, boxStyle = BOX_VERTICAL_NEWS_STYLE) => {\r\n        try {\r\n            if (category && category.name && category.slug && category.posts && boxStyle) {\r\n                boxStyle = this.getCategoryBoxStyle(category.slug);\r\n\r\n                switch (boxStyle) {\r\n                    case BOX_VERTICAL_NEWS_STYLE:\r\n                        return (\r\n                            <div key={category.id} className={classname(styles['sidebar-category'])} style={{background: '#fafafa'}}>\r\n                                <h2 className={classname(styles['heading'])}>\r\n                                    <Link href={'/category-by-id?slug=' + category.slug + '&cid=' + category.id} as={'/' + category.slug + '-c' + category.id + '.html'}>\r\n                                        <a title={category.name}>{category.name}</a>\r\n                                    </Link>\r\n                                </h2>\r\n                                <HorizontalWidget\r\n                                    skeletonLoading={false}\r\n                                    number={2}\r\n                                    isShowCategory={false}\r\n                                    isRowReverse={true}\r\n                                    background={'normal'}\r\n                                    posts={category.posts}\r\n                                />\r\n                            </div>\r\n                        );\r\n                    case BOX_VERTICAL_AND_LIST_NEWS_STYLE:\r\n                        return (\r\n                            <div key={category.id} className={classname(styles['sidebar-category'])} style={{background: '#fafafa'}}>\r\n                                <h2 className={classname(styles['heading'])}>\r\n                                    <Link href={'/category-by-id?slug=' + category.slug + '&cid=' + category.id} as={'/' + category.slug + '-c' + category.id + '.html'}>\r\n                                        <a title={category.name}>{category.name}</a>\r\n                                    </Link>\r\n                                </h2>\r\n                                <HorizontalWidget\r\n                                    skeletonLoading={false}\r\n                                    isShowCategory={false}\r\n                                    isRowReverse={true}\r\n                                    background={'normal'}\r\n                                    number={1}\r\n                                    posts={category.posts}\r\n                                />\r\n                                <ListWidget\r\n                                    number={4}\r\n                                    posts={category.posts.filter((post, key) => key > 0)}\r\n                                />\r\n                            </div>\r\n                        );\r\n                    case BOX_HORIZONTAL_AND_THUMB_NEWS_STYLE:\r\n                        return (\r\n                            <div key={category.id} className={classname(styles['sidebar-category'])} style={{background: '#fafafa'}}>\r\n                                <h2 className={classname(styles['heading'])}>\r\n                                    <Link href={'/category-by-id?slug=' + category.slug + '&cid=' + category.id} as={'/' + category.slug + '-c' + category.id + '.html'}>\r\n                                        <a title={category.name}>{category.name}</a>\r\n                                    </Link>\r\n                                </h2>\r\n                                <div className={classname(styles['content'], 'clearfix')}>\r\n                                    <div className={classname(styles['left'], 'fl')}>\r\n                                        <VerticalWidget\r\n                                            isShowTag={false}\r\n                                            background={'normal'}\r\n                                            post={category.posts[0]}\r\n                                        />\r\n                                    </div>\r\n                                    <div className={classname(styles['right'], 'fr')}>\r\n                                        <HorizontalWidget\r\n                                            skeletonLoading={false}\r\n                                            isShowCategory={false}\r\n                                            isRowReverse={true}\r\n                                            isShowDescription={false}\r\n                                            isSmallLayout={true}\r\n                                            background={'medium'}\r\n                                            number={3}\r\n                                            posts={category.posts.filter((post, key) => key > 0)}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                }\r\n            }\r\n        } catch (error) {\r\n            // Error\r\n            handleError(error, {\r\n                actionName: 'renderCategoryBox',\r\n                path: PATH,\r\n                args: {\r\n                    category,\r\n                    boxStyle\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        try {\r\n            return  (\r\n                <div className={classname(styles['container'], 'container')}>\r\n                    <div className={classname('container-body clearfix w1160 pb-20')} style={{borderBottom: '1px solid #eee'}}>\r\n                        <div className={classname('w540 fl pt-20')} >\r\n                            {\r\n                                this.props.featureNews && this.props.featureNews.length ? (\r\n                                    <VerticalWidget\r\n                                        isShowTag={false}\r\n                                        isShowDescription={false}\r\n                                        background={'large'}\r\n                                        post={this.props.featureNews[0]}\r\n                                    />\r\n                                ) : null\r\n                            }\r\n\r\n                            <ul className=\"pt-20\" style={{listStyle: 'none', display: 'flex', justifyContent: 'space-between'}}>\r\n                                {\r\n                                    this.props.featureNews && this.props.featureNews.length ? this.props.featureNews.map((post, key) => {\r\n                                        if (key > 0 && key < 3) {\r\n                                            return (\r\n                                                <li key={key.toString()} style={{width: 260}}>\r\n                                                    <VerticalWidget\r\n                                                        isShowTag={false}\r\n                                                        isShowDescription={false}\r\n                                                        background={'normal'}\r\n                                                        post={post}\r\n                                                    />\r\n                                                </li>\r\n                                            );\r\n                                        }\r\n                                    }) : null\r\n                                }\r\n                            </ul>\r\n                        </div>\r\n                        <div className={classname('w590 fr pt-20')} >\r\n                            <div className={classname('fl')} style={{width: 265}}>\r\n                                {\r\n                                    this.props.featureNewsRight && this.props.featureNewsRight.length ? (\r\n                                        <VerticalWidget\r\n                                            isShowTag={false}\r\n                                            isShowDescription={false}\r\n                                            background={'normal'}\r\n                                            post={this.props.featureNewsRight[0]}\r\n                                        />\r\n                                    ) : null\r\n                                }\r\n\r\n                                {\r\n                                    this.props.featureNewsRight && this.props.featureNewsRight.length ? (\r\n                                        <HorizontalWidget\r\n                                            skeletonLoading={false}\r\n                                            number={4}\r\n                                            isSmallLayout={true}\r\n                                            isShowCategory={false}\r\n                                            isShowDescription={false}\r\n                                            background={'medium'}\r\n                                            posts={this.props.featureNewsRight.filter((post, key) => key > 0)}\r\n                                        />\r\n                                    ) : null\r\n                                }\r\n                            </div>\r\n                            <div className={classname('fl pl-20')} style={{width: 325}}>\r\n                                <SidebarHighlightWidget\r\n                                    title=\"Mi nht\"\r\n                                    style={{width: '100%'}}\r\n                                    background={'normal'}\r\n                                    posts={this.props.latest}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classname('container-body clearfix w1160 pt-20')}>\r\n                        <div className=\"fl w540\">\r\n                            {\r\n                                this.props.horizontalNews && this.props.horizontalNews.length ? <HorizontalWidget\r\n                                    skeletonLoading={false}\r\n                                    number={16}\r\n                                    background={'medium'}\r\n                                    posts={this.props.horizontalNews}\r\n                                /> : null\r\n                            }\r\n                        </div>\r\n                        <div className=\"fr w590\">\r\n                            {\r\n                                this.props.category && this.props.category.length ? this.props.category.map((category) => {\r\n                                    return this.renderCategoryBox(category, BOX_VERTICAL_NEWS_STYLE);\r\n                                }) : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } catch (error) {\r\n            handleError(error, {\r\n                actionName: 'render',\r\n                path: PATH,\r\n                args: {}\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}